(window.webpackJsonpCybexAddon=window.webpackJsonpCybexAddon||[]).push([[8],{5605:function(e,t,n){"use strict";n.r(t);var r,o,a,i,l=n(1),c=n(114),s=n(10),u=n(4),p=n(19),d=n(115),f=n(5600),h=n(17),m=n(5613),g=n(5615),b=n(5666),y=n(5622),v=n(5617),w=n(156),x=n(113),E=n(33),O=function(e){var t={};return["accountName","password"].forEach(function(n){e[n]||(t[n]=E.a["ErrorRequired_"+n]||E.a.ErrorRequired)}),t},k=function(e){var t=e.onSubmit,n=e.children,r=l.useState(!1),o=r[0],a=r[1],i=Object(x.b)(),c=i.t,s=(i.i18n,Object(y.unstable_useMediaQuery)("(min-width:600px)"),{padding:0,margin:"16px 0"});return l.createElement(b.b,{onSubmit:t,validate:O,render:function(e){var t=e.handleSubmit,r=(e.reset,e.submitting),i=e.pristine,u=(e.values,e.invalid);return l.createElement("form",{onSubmit:t},l.createElement(f.j,{style:s},l.createElement("div",{style:{marginBottom:"1em"}},l.createElement(b.a,{fullWidth:!0,autoFocus:!0,name:"accountName",component:v.b,type:"text",label:c(E.a.AuthAccountName),helperText:c(E.a.AuthAccountNameHelper)})),l.createElement("div",{style:{marginBottom:"1em"}},l.createElement(b.a,{style:{width:"100%"},fullWidth:!0,name:"password",type:o?"text":"password",label:c(E.a.AuthPassword),helperText:c(E.a.AuthLoginPasswordHelper),component:v.b,InputProps:{endAdornment:l.createElement(f.u,{position:"end"},l.createElement(f.s,{onClick:function(){return a(!o)}},o?l.createElement(w.l,null):l.createElement(w.k,null)))}}))),l.createElement(f.j,{style:s},n),l.createElement(f.i,{style:{margin:0}},l.createElement(v.a,{color:"primary",style:{height:"48px",fontSize:"16px",margin:0},fullWidth:!0,type:"submit",disabled:i||r||u},c(E.a.LoginSubmit))))}})},j=n(164),P=n(152),S=n(9594),_=n.n(S),C=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,l)}c((r=r.apply(e,t||[])).next())})},A=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},M=function(e){var t={};return console.debug("Values: ",e),["accountName","password","confirm","captcha","agreement"].forEach(function(n){e[n]||(t[n]=E.a["ErrorRequired_"+n]||E.a.ErrorRequired)}),!e.accountName||!P.b.is_account_name_error(e.accountName,!1)&&P.b.is_cheap_name(e.accountName)||(t.accountName=E.a.AuthRegAccountNameHelper),e.password&&!/(?=.*[0-9])(?=.*[A-Z])(?=.*[a-z]).{12,}/.test(e.password)&&(t.password=E.a.AuthRegPasswordHelper),e.confirm&&e.confirm!==e.password&&(t.confirm=E.a.ErrorMatch),t},L=function(e){return function(t){return C(void 0,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return t?[4,e.chainAssisant.getAccounts(t)]:[2,E.a.ErrorRequired_accountName];case 1:return n.sent()[0]?[2,E.a.ErrorAccountExists]:[2,null]}})})}},R={getCaptcha:u.l},T=Object(j.b)(Object(c.b)(function(e){return{captcha:Object(u.L)(e),defaultReferer:Object(u.J)(e),initialValues:{accountName:"",password:"",confirm:"",captcha:"",agreement:!1,referer:Object(u.J)(e)||""}}},R)(function(e){var t=l.useState(!1),n=t[0],r=t[1],o=l.useState(!1),a=o[0],i=o[1],c=Object(x.b)(),s=c.t,u=(c.i18n,Object(y.unstable_useMediaQuery)("(min-width:600px)"),{padding:0,margin:"16px 0"}),p=e.onSubmit,d=(e.invalid,e.getCaptcha),h=e.captcha,m=(e.valid,e.defaultReferer),g=e.children,O=e.toolset;return l.createElement(b.b,{onSubmit:p,validate:M,initialValues:{accountName:"",password:"",confirm:"",referer:m,agreement:!1,captcha:""},render:function(e){var t=e.handleSubmit,o=e.submitting,c=e.pristine,p=(e.values,e.invalid);e.valid;return l.createElement("form",{onSubmit:t},l.createElement(f.j,{style:u},l.createElement("div",{style:{marginBottom:"0.5em"}},l.createElement(b.a,{autoFocus:!0,style:{width:"100%"},name:"accountName",component:v.b,validate:L(O),autoFocusd:!0,label:s(E.a.AuthAccountName),helperText:s(E.a.AuthRegAccountNameHelper)})),l.createElement("div",{style:{marginBottom:"0.5em"}},l.createElement(b.a,{style:{width:"100%"},component:v.b,name:"password",type:n?"text":"password",label:s(E.a.AuthPassword),helperText:s(E.a.AuthRegPasswordHelper),InputProps:{endAdornment:l.createElement(f.u,{position:"end"},l.createElement(f.s,{tabIndex:-1,onClick:function(){return r(!n)}},n?l.createElement(w.l,null):l.createElement(w.k,null)))}})),l.createElement("div",{style:{marginBottom:"0.5em"}},l.createElement(b.a,{style:{width:"100%"},component:v.b,name:"confirm",label:s(E.a.AuthPasswordConfirm),helperText:s(E.a.AuthRegConfirmHelper),type:a?"text":"password",InputProps:{endAdornment:l.createElement(f.u,{position:"end"},l.createElement(f.s,{tabIndex:-1,onClick:function(){return i(!a)}},a?l.createElement(w.l,null):l.createElement(w.k,null)))}})),l.createElement("div",{style:{marginBottom:"0.5em"}},l.createElement(b.a,{style:{width:"100%"},component:v.b,name:"captcha",type:"text",label:s(E.a.AuthCaptcha),helperText:s(E.a.AuthCaptchaHelper),InputProps:{endAdornment:l.createElement(f.u,{position:"end"},h&&l.createElement(_.a,{svg:h.data.replace("#4AA0E2","#FFFFFF"),onClick:d}))}})),l.createElement("div",{style:{marginBottom:"1em"}},l.createElement(b.a,{style:{width:"100%"},name:"referer",component:v.b,disabled:!!m,label:s(E.a.AuthReferrer),helperText:s(E.a.AuthReferrerHelper)})),l.createElement("div",null,l.createElement(b.a,{name:"agreement",component:function(e){var t=e.input;return l.createElement(f.o,{style:{marginRight:0,textAlign:"justify"},htmlFor:"agreement",onClick:function(){return t.onChange(!t.value)},control:l.createElement(f.f,{id:"agreement",checked:!!t.value,onChange:t.onChange}),label:s(E.a.PasswordBackupTip)})},type:"checkbox"}))),l.createElement(f.j,{style:u},g),l.createElement(f.i,{style:{margin:0}},l.createElement(v.a,{color:"primary",fullWidth:!0,type:"submit",style:{height:"48px",fontSize:"16px",margin:0},disabled:c||o||p},s(E.a.AuthRegister))))}})})),N=n(44),I=n(9595),B=n.n(I),F=n(5618),D=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),H={setPassword:u.n,unlock:u.q};!function(e){e[e.Lock=0]="Lock",e[e.Unlock=1]="Unlock"}(a||(a={})),function(e){e[e.Big=0]="Big",e[e.Small=1]="Small"}(i||(i={}));var q,z=Object(d.withStyles)(function(e){return{locker:{background:"transparent",margin:"auto","&.patt-hidden ":{"& .patt-lines":{display:"none"}},"&.patt-error":{"& .patt-circ.hovered":{border:"3px solid "+e.palette.error.main,background:e.palette.error.light,opacity:.4},"& .patt-dots":{background:e.palette.error.main}},"& .patt-wrap":{margin:0,position:"relative",cursor:"pointer","& ul, & li":{listStyle:"none",margin:0,padding:0}},"& .patt-dots":{background:F.a.btnBgPrimary,width:"10px",height:"10px",borderRadius:"5px",position:"absolute",top:"50%",left:"50%",marginTop:"-5px",marginLeft:"-5px"},"& .patt-lines":{background:F.a.btnBgPrimary,opacity:.5,borderRadius:"5px",height:"10px",position:"absolute",transformOrigin:"5px 5px"},"& .patt-circ.hovered":{boxShadow:"0 0 3px "+e.palette.secondary.main+", inset 0 0 3px "+e.palette.secondary.main,border:"3px solid "+e.palette.secondary.main},"& .patt-circ":{position:"relative",float:"left",boxSizing:"border-box",transition:"0.3s all",color:"transparent"}}}})(Object(c.b)(null,H)(Object(x.c)()(((o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wrapper=null,t.lock=null,t.state={current:"",notMatchError:!1},t.setPass=function(e){return t.state.current?e!==t.state.current?(t.lock&&t.lock.error(),t.setState({notMatchError:!0},function(){setTimeout(function(){t.lock.reset(),t.state.notMatchError&&t.setState({notMatchError:!1,current:""})},2e3)})):(t.lock&&t.lock.reset(),t.props.setPassword&&t.props.setPassword(e)):(t.lock&&t.lock.reset(),t.setState({current:e}))},t.unlock=function(e){t.props.unlock&&t.props.unlock(e),t.lock&&t.lock.reset()},t.setupLock=function(){if(t.wrapper)t.lock=new B.a("#patternLocker",{allowRepeat:!0,enableSetPattern:!0,margin:t.props.size===i.Big?20:17,radius:t.props.size===i.Big?25:15,onDraw:t.props.type===a.Lock?t.setPass:t.unlock})},t}return D(t,e),t.prototype.componentDidMount=function(){this.setupLock()},t.prototype.render=function(){var e=this,t=this.props.classes||{},n=this.props,r=n.t,o=n.type;return l.createElement(l.Fragment,null,l.createElement("div",{id:"patternLocker",className:t.locker,ref:function(t){return e.wrapper=t}}),o===a.Lock&&l.createElement("div",{style:{padding:"0 48px"}},this.props.type===a.Lock&&!this.state.current&&l.createElement(f.M,{align:"center",variant:"body1",color:"secondary"},r(E.a.SetLockTitle)),this.state.current&&!this.state.notMatchError&&l.createElement(f.M,{align:"center",variant:"body1",color:"secondary"},r(E.a.SetLockAgain)),this.state.notMatchError&&l.createElement(f.M,{align:"center",variant:"body1",color:"error"},r(E.a.SetLockError))))},t}(l.Component)).defaultProps={type:a.Lock},o)))),W=function(e){var t=e.type,n=Object(y.unstable_useMediaQuery)("(max-width: 599px)")?i.Small:i.Big;return l.createElement(z,{type:t,size:n})},G=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),V={setPassword:u.n,closeModal:u.g},U=Object(d.withStyles)(function(e){return{paper:{position:"relative",margin:0,width:"90vw",padding:"16px 0 8px 0",maxWidth:"536px"}}})(Object(x.c)()(((q=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onSetPass=function(e){var n=e.password;return new Promise(function(e,r){t.props.setPassword(n)})},t}return G(t,e),t.prototype.render=function(){var e=this.props,t=e.classes,n=e.closeModal,r=e.isModalShowing;e.t;return l.createElement(f.h,{open:r,disableBackdropClick:!0,classes:t&&{paper:t.paper},maxWidth:"lg",onClose:n},l.createElement("div",{style:{position:"absolute",right:0,top:0}},l.createElement(f.s,{onClick:n},l.createElement(w.a,null))),l.createElement(W,{type:a.Lock}),l.createElement("div",{style:{textAlign:"center",backgroundColor:"#fff",position:"sticky",padding:"0.5em",bottom:"-8px"}}))},t}(l.Component)).defaultProps={isModalShowing:!1},q))),X=Object(c.b)(function(e){return{auth:Object(s.a)(e),isModalShowing:Object(s.n)(e)}},V)(U),Y=n(5625);n.d(t,"Login",function(){return K});var $=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),J=function(){return(J=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Q={login:u.h,regImpl:u.m,logout:u.i,switchPanel:u.j,alert:h.b,closeModal:u.f,showModal:u.o,loadGatewayInfo:p.g,selectAsset:p.j},Z=Object(d.withStyles)(function(e){var t;return{paper:{position:"relative",margin:0,width:"90vw",maxWidth:"536px",padding:"32px 0 32px 0"},header:(t={position:"absolute",right:"36px",top:0,zIndex:100},t[e.breakpoints.down("sm")]={right:0},t[e.breakpoints.up("sm")]={right:"36px"},t)}})(Object(x.c)()(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.logging$=new m.a,t.componentDidUpdate=function(e,n){e.isLogging&&!t.props.isLogging&&t.logging$.next(!1)},t.onSubmit=function(e){var n=J({},e,{refer:t.props.defaultReferrer?{referrer:t.props.defaultReferrer,action:t.props.game}:void 0});return new Promise(function(e,r){t.props.login(n),t.logging$.pipe(Object(g.a)(1)).subscribe(function(){return setTimeout(e,2e3)},r)})},t.onRegister=function(e){return new Promise(function(n,r){t.props.regImpl(e),t.logging$.pipe(Object(g.a)(1)).subscribe(function(){return setTimeout(n,2e3)},r)})},t}return $(t,e),t.prototype.componentWillUnmount=function(){this.props.closeModal&&this.props.closeModal()},t.prototype.render=function(){var e=this.props,t=e.classes,n=e.logout,r=e.closeModal,o=e.isModalShowing,i=e.currentPanel,c=e.switchPanel,s=e.t;return t=t||{},l.createElement(l.Fragment,null,l.createElement(Y.a,{open:o,dialogProps:{disableBackdropClick:!0},onCloseClick:r,title:i===u.c.Unlock?E.a.Unlock:i===u.c.Register?E.a.Register:E.a.Login},i===u.c.Unlock?l.createElement(f.q,{container:!0,direction:"column",alignItems:"center"},l.createElement(W,{type:a.Unlock}),l.createElement(f.b,{onClick:n},s(E.a.Logout))):l.createElement(l.Fragment,null,i===u.c.Login?l.createElement(k,{onSubmit:this.onSubmit}):l.createElement(T,{onSubmit:this.onRegister}),l.createElement("div",{style:{textAlign:"center",backgroundColor:"#fff",position:"sticky",padding:"0.5em",marginTop:"16px",bottom:"-8px"}},l.createElement("a",{href:"javascript:;",style:{textDecoration:"none"},onClick:c},l.createElement(f.M,{style:{display:"inline",fontSize:"14px"},component:"span",color:"secondary"},i===u.c.Login?s(E.a.AuthRegisterLong):s(E.a.LoginLong)))))),l.createElement(X,null))},t}(l.Component))),K=Object(c.b)(function(e){return{auth:Object(s.a)(e),game:Object(N.a)(e),defaultReferrer:Object(s.j)(e),currentPanel:Object(s.l)(e),isLogging:Object(s.b)(e),isModalShowing:Object(s.c)(e)}},Q)(Z)},5617:function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"a",function(){return f});var r,o=n(1),a=n(5600),i=n(115),l=n(5618),c=n(113),s=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),u=function(){return(u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},p=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},d=function(e){var t=e.label,n=e.input,r=e.meta,i=(r.asyncValidating,r.touched),l=r.invalid,s=r.error,d=e.helperText,f=p(e,["label","input","meta","helperText"]),h=Object(c.b)(),m=h.t;h.i18n;return o.createElement(a.L,u({label:t,InputProps:{style:{fontSize:"16px"}},InputLabelProps:{style:{fontSize:"16px"}},error:i&&l,helperText:i&&m(s)||d},n,f))},f=Object(i.withStyles)(function(e){return{root:{color:l.a.btnPrimary,background:l.a.btnBgPrimary,"&:disabled":{color:l.a.btnPrimary,background:l.a.btnBgDisabled}}}})(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.render=function(){return o.createElement(a.b,u({classes:this.props.classes},this.props))},t}(o.Component))},5618:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={primary:"rgb(0,0,0)",secondary:"rgb(10, 56, 102)",btnBgPrimary:"rgb(10, 56, 102)",btnPrimary:"white",btnBgDisabled:"rgba(155, 155, 155, 0.48)",btnIcon:{purple:"#b692dd",blue:"#54b8e1",yellow:"#fac050"}}},5625:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(1),o=n(5660),a=n(5600),i=n(156),l=n(5622),c=n(113),s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},p=Object(o.a)(function(e){return{paper:{position:"relative",width:"90vw",maxWidth:"536px"},header:{position:"absolute",right:"36px",top:0,zIndex:100,"(max-width:599px)":{right:0},"(min-width:600px)":{right:"36px"}}}},{withTheme:!0}),d=function(e){var t=e.title,n=e.open,o=e.onCloseClick,d=e.children,f=e.hideHeader,h=e.dialogProps,m=e.titleProps,g=(u(e,["title","open","onCloseClick","children","hideHeader","dialogProps","titleProps"]),p()),b=Object(l.unstable_useMediaQuery)("(min-width:600px)"),y=Object(c.b)(),v=y.t;y.i18n;return r.createElement(a.h,s({open:n,classes:s({paper:g.paper},(h||{classes:{}}).classes),onClose:o},h),!f&&r.createElement("div",{style:{padding:b?"16px 48px 0 48px":0,boxShadow:b?"inset 0 -1px 0 0 #f8f9fb":"unset"}},b?r.createElement(a.q,{container:!0,style:{height:"64px"},justify:"space-between",alignItems:"center"},r.createElement(a.M,s({variant:"h4",style:{fontSize:"26px",fontWeight:600}},m),t?v(t):null),r.createElement(a.s,{style:{right:"-12px"},onClick:o},r.createElement(i.a,null))):r.createElement("div",{className:g.header,style:{right:b?"36px":0}},r.createElement(a.s,{onClick:o},r.createElement(i.a,null)))),r.createElement("div",{style:{padding:b?(f?32:0)+"px 48px 32px 48px":"16px"}},d))}},9594:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),i=s(a),l=s(n(16)),c=s(n(72));function s(e){return e&&e.__esModule?e:{default:e}}var u={title:/<title>.*<\/title>/gi,desc:/<desc>.*<\/desc>/gi,comment:/<!--.*-->/gi,defs:/<defs>.*<\/defs>/gi,width:/ +width="\d+(\.\d+)?(px)?"/gi,height:/ +height="\d+(\.\d+)?(px)?"/gi,fill:/ +fill="(none|#[0-9a-f]+)"/gi,sketchMSShapeGroup:/ +sketch:type="MSShapeGroup"/gi,sketchMSPage:/ +sketch:type="MSPage"/gi,sketchMSLayerGroup:/ +sketch:type="MSLayerGroup"/gi},p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"render",value:function(){var e=this.props,n=e.className,o=e.component,a=e.svg,l=e.fill,s=e.width,p=e.accessibilityLabel,d=e.accessibilityDesc,f=e.classSuffix,h=e.cleanupExceptions,m=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className","component","svg","fill","width","accessibilityLabel","accessibilityDesc","classSuffix","cleanupExceptions"]),g=this.props,b=g.cleanup,y=g.height;(!0===b||0===b.length&&h.length>0)&&(b=Object.keys(u)),b=b.filter(function(e){return!(h.indexOf(e)>-1)}),s&&void 0===y&&(y=s),delete m.cleanup,delete m.height;var v,w,x,E=(0,c.default)((v={SVGInline:!0,"SVGInline--cleaned":b.length},x=n,(w=n)in v?Object.defineProperty(v,w,{value:x,enumerable:!0,configurable:!0,writable:!0}):v[w]=x,v)),O=E.split(" ").join(f+" ")+f,k=t.cleanupSvg(a,b).replace(/<svg/,'<svg class="'+O+'"'+(l?' fill="'+l+'"':"")+(s||y?' style="'+(s?"width: "+s+";":"")+(y?"height: "+y+";":"")+'"':"")),j=void 0;if(d){var P=(j=/<svg(.|\n|\r\n)*?>/.exec(k)).index+j[0].length;k=k.substr(0,P)+"<desc>"+d+"</desc>"+k.substr(P)}if(p){var S=(j=j||/<svg(.|\n|\r\n)*?>/.exec(k)).index+j[0].length-1,_="SVGInline-"+t.idCount+++"-title";k=k.substr(0,S)+' role="img" aria-labelledby="'+_+'"'+k.substr(S,1)+'<title id="'+_+'">'+p+"</title>"+k.substr(S+1)}return i.default.createElement(o,r({},m,{className:E,dangerouslySetInnerHTML:{__html:k}}))}}]),t}();p.propTypes={className:l.default.string,classSuffix:l.default.string,component:l.default.oneOfType([l.default.string,l.default.func]),svg:l.default.string.isRequired,fill:l.default.string,cleanup:l.default.oneOfType([l.default.bool,l.default.array]),cleanupExceptions:l.default.array,width:l.default.string,height:l.default.string,accessibilityLabel:l.default.string,accessibilityDesc:l.default.string},p.defaultProps={component:"span",classSuffix:"-svg",cleanup:[],cleanupExceptions:[]},p.idCount=0,p.cleanupSvg=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object.keys(u).filter(function(e){return t.indexOf(e)>-1}).reduce(function(e,t){return e.replace(u[t],"")},e).trim()},t.default=p},9595:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(9596);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=new WeakMap,c=function(){function e(){i(this,e),this.holder=null,this.option=null,this.mapperFunc=a.noop,this.wrapLeft=0,this.wrapTop=0,this.disabled=!1,this.patternAry=[],this.lastPosObj=[],this.rightPattern=null,this.onSuccess=a.noop,this.onError=a.noop,this.pattCircle=null,this.lineX1=0,this.lineY1=0,this.line=null,this.lastPosObj=null}return o(e,[{key:"getIdxFromPoint",value:function(e,t){var n=this.option,r=n.matrix,o=n.margin,a=e-this.wrapLeft,i=t-this.wrapTop,l=2*n.radius+2*o,c=Math.ceil(a/l),s=Math.ceil(i/l),u=a%l,p=i%l,d=null;return c<=r[1]&&s<=r[0]&&u>2*o&&p>2*o&&(d=(s-1)*r[1]+c),{idx:d,i:c,j:s,x:a,y:i}}},{key:"markPoint",value:function(e,t){(0,a.addClass)(e,"hovered"),this.patternAry.push(t),this.lastElm=e}},{key:"addLine",value:function(e){var t=this.patternAry,n=this.option,r=n.lineOnMove,o=n.margin,i=n.radius,l=(e.i-1)*(2*o+2*i)+2*o+i,c=(e.j-1)*(2*o+2*i)+2*o+i;if(t.length>1){var s=(0,a.getLengthAngle)(this.lineX1,l,this.lineY1,c),u=s.length,p=s.angle;(0,a.css)(this.line,{width:u+10+"px",transform:"rotate("+p+"deg)"}),r||(0,a.css)(this.line,{display:"block"})}var d=(0,a.createDom)('<div class="patt-lines" style="top:'+(c-5)+"px; left: "+(l-5)+'px;"></div>');this.line=d,this.lineX1=l,this.lineY1=c,this.holder.appendChild(d),r||(0,a.css)(this.line,{display:"none"})}},{key:"addDirectionClass",value:function(e){var t=this.lastElm,n=this.line,r=this.lastPosObj,o=[];if(e.j-r.j>0?o.push("s"):e.j-r.j>0&&o.push("n"),e.i-r.i>0?o.push("e"):e.i-r.i<0&&o.push("w"),o=o.join("-")){var i=o+" dir";(0,a.addClass)(t,i),(0,a.addClass)(n,i)}}}]),e}(),s=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),u.call(this);var o=new c,s=document.querySelector(t);if(s&&0!==s.length){var p={onDraw:a.noop},d=n.matrix;d&&d[0]*d[1]>9&&(p.delimiter=","),o.option=(0,a.assign)({},e.defaults,p,n);var f=o.option.mapper;"object"===(void 0===f?"undefined":r(f))?o.mapperFunc=function(e){return f[e]}:o.mapperFunc="function"==typeof f?f:a.noop,o.option.mapper=null,o.holder=s,l.set(this,o),this._render(),(0,a.addClass)(s,"patt-holder"),"static"===(0,a.css)(s,"position")&&(0,a.css)(s,{position:"relative"}),s.addEventListener("touchstart",this._onStart),s.addEventListener("mousedown",this._onStart)}}return o(e,[{key:"getPattern",value:function(){var e=l.get(this),t=e.patternAry,n=e.option;return(t||[]).join(n.delimiter)}},{key:"setPattern",value:function(e){var t=l.get(this),n=t.option,r=t.matrix,o=t.margin,i=t.radius;if(n.enableSetPattern){var c="string"==typeof e?e.split(n.delimiter):e;this.reset(),t.wrapLeft=0,t.wrapTop=0;for(var s=0;s<c.length;s+=1){var u=c[s]-1,p=u%r[1]*(2*o+2*i)+2*o+i,d=Math.floor(u/r[1])*(2*o+2*i)+2*o+i;this._onMove.call(null,{clientX:p,clientY:d,preventDefault:a.noop},this)}}}},{key:"enable",value:function(){l.get(this).disabled=!1}},{key:"disable",value:function(){l.get(this).disabled=!0}},{key:"reset",value:function(){var e=l.get(this);(0,a.toArray)(e.pattCircle).forEach(function(e){return(0,a.removeClass)(e,"hovered dir s n w e s-w s-e n-w n-e")}),(0,a.remove)(e.holder.querySelectorAll(".patt-lines")),e.patternAry=[],e.lastPosObj=null,(0,a.removeClass)(e.holder,"patt-error")}},{key:"error",value:function(){var e=l.get(this);(0,a.addClass)(e.holder,"patt-error")}},{key:"checkForPattern",value:function(e,t,n){var r=l.get(this);r.rightPattern=e,r.onSuccess=t||a.noop,r.onError=n||a.noop}},{key:"_render",value:function(){var e=l.get(this),t=e.option,n=e.holder,r=t.matrix,o=t.margin,i=t.radius,c='<ul class="patt-wrap" style="padding: '+o+'px">\n      '+Array.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}({length:r[0]*r[1]})).map(this._renderCircle).join("")+"\n    </ul>";n.innerHTML=c,(0,a.css)(n,{width:r[1]*(2*i+2*o)+2*o+"px",height:r[0]*(2*i+2*o)+2*o+"px"}),e.pattCircle=e.holder.querySelectorAll(".patt-circ")}},{key:"option",value:function(e,t){var n=l.get(this).option;return void 0===t?n[e]:(n[e]=t,"margin"!==e&&"matrix"!==e&&"radius"!==e||this._render(),this)}}]),e}(),u=function(){var e=this;this._onStart=function(t){t.preventDefault();var n=l.get(e),r=n.holder;if(!n.disabled){n.option.patternVisible||(0,a.addClass)(n.holder,"patt-hidden"),e.moveEvent="touchstart"===t.type?"touchmove":"mousemove",e.endEvent="touchstart"===t.type?"touchend":"mouseup",r.addEventListener(e.moveEvent,e._onMove),document.addEventListener(e.endEvent,e._onEnd);var o=n.holder.querySelector(".patt-wrap").getBoundingClientRect();n.wrapTop=o.top,n.wrapLeft=o.left,e.reset()}},this._onMove=function(t){t.preventDefault();var n=l.get(e),r=n.option,o=n.patternAry,i=t.clientX||t.touches[0].clientX,c=t.clientY||t.touches[0].clientY,s=n.pattCircle,u=n.getIdxFromPoint(i,c),p=u.idx,d=n.mapperFunc(p)||p;if(o.length>0){var f=(0,a.getLengthAngle)(n.lineX1,u.x,n.lineY1,u.y),h=f.length,m=f.angle;(0,a.css)(n.line,{width:h+10+"px",transform:"rotate("+m+"deg)"})}if(p&&(r.allowRepeat&&o[o.length-1]!==d||-1===o.indexOf(d))){var g=s[p-1];if(n.lastPosObj)for(var b=n.lastPosObj,y=u.i-b.i>0?1:-1,v=u.j-b.j>0?1:-1,w=b.i,x=b.j,E=Math.abs(u.i-w),O=Math.abs(u.j-x);0===E&&O>1||0===O&&E>1||O===E&&O>1;){w=E?w+y:w,x=O?x+v:x,E=Math.abs(u.i-w),O=Math.abs(u.j-x);var k=(x-1)*r.matrix[1]+w,j=n.mapperFunc(k)||k;(r.allowRepeat||-1===o.indexOf(j))&&(n.addDirectionClass({i:w,j:x}),n.markPoint(s[j-1],j),n.addLine({i:w,j:x}))}n.lastPosObj&&n.addDirectionClass(u),n.markPoint(g,d),n.addLine(u),n.lastPosObj=u}},this._onEnd=function(t){t.preventDefault();var n=l.get(e),r=n.option,o=n.patternAry.join(r.delimiter);n.holder.removeEventListener(e.moveEvent,e._onMove),document.removeEventListener(e.endEvent,e._onEnd),(0,a.removeClass)(n.holder,"patt-hidden"),o&&(r.onDraw(o),(0,a.remove)(n.line),n.rightPattern&&(o===n.rightPattern?n.onSuccess():(n.onError(),e.error())))},this._renderCircle=function(){var t=l.get(e).option,n=t.margin,r=t.radius;return'<li \n      class="patt-circ"\n      style="margin: '+n+"px; width: "+2*r+"px; height: "+2*r+"px; border-radius: "+r+'px;"\n    >\n      <div class="patt-dots"></div>\n    </li>'}};s.defaults={matrix:[3,3],margin:20,radius:25,patternVisible:!0,lineOnMove:!0,delimiter:"",enableSetPattern:!1,allowRepeat:!1},t.default=s},9596:function(e,t,n){"use strict";function r(e){return e instanceof NodeList||e instanceof HTMLCollection?Array.prototype.slice.call(e):[e]}Object.defineProperty(t,"__esModule",{value:!0}),t.noop=function(){},t.toArray=r,t.assign=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.forEach(function(t){Object.keys(t).forEach(function(n){e[n]=t[n]})}),e},t.css=function(e,t){if("string"==typeof t)return window.getComputedStyle(e)[t];return void Object.keys(t).forEach(function(n){var r=t[n];e.style[n]=r})},t.addClass=function e(t,n){var r=n.split(" ");r.length>1?r.forEach(function(n){return e(t,n)}):t.classList?t.classList.add(n):t.className+=" "+n},t.removeClass=function e(t,n){var r=n.split(" ");r.length>1?r.forEach(function(n){return e(t,n)}):t.classList?t.classList.remove(n):t.className=t.className.replace(new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi")," ")},t.remove=function(e){r(e).forEach(function(e){e.parentNode.removeChild(e)})},t.createDom=function(e){var t=document.createElement("div");return t.innerHTML=e,t.children[0]},t.getLengthAngle=function(e,t,n,r){var o=t-e,a=r-n;return{length:Math.ceil(Math.sqrt(o*o+a*a)),angle:Math.round(180*Math.atan2(a,o)/Math.PI)}}}}]);