(window.webpackJsonpCybexAddon=window.webpackJsonpCybexAddon||[]).push([[9],{5602:function(e,t,n){"use strict";n.r(t),n.d(t,"DepositModal",function(){return P});var r,a=n(1),i=n(114),o=n(19),s=n(61),l=n(115),c=n(5600),p=n(5621),u=n.n(p),d=n(17),f=n(5664),h=n(113),m=n(33),y=n(5625),b=n(5617),w=n(4),g=n(79),v=n(164),x=n(223),E=n(78),O=n.n(E),A=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),S=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(o,s)}l((r=r.apply(e,t||[])).next())})},j=function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},C={doWithdraw:o.m,verifyAddress:o.l,selectAsset:o.j,selectFirstAsset:o.k,closeModal:o.h,pushNoti:d.b},P=Object(v.b)(Object(i.b)(function(e){return{modalState:Object(s.f)(e),gateway:Object(s.a)(e),balances:Object(w.F)(e),currentDeposit:Object(s.e)(e),currentCoinInfo:Object(s.d)(e),coinList:Object(s.c)(e),state:e}},C)(Object(l.withStyles)(function(e){return{root:{height:"470px"},innerWrapper:{margin:2*e.spacing.unit+"px 0",height:"100%","&>*:not(:first-of-type)":{marginTop:2*e.spacing.unit}},copyCard:{background:"rgb(243,243,243)",width:"100%"},inputBase:{fontSize:"16px"},inputLabel:{fontSize:"17.6px"}}})(Object(h.c)()(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={currentTab:0,withValue:0,address:"",fee:0,feeAsset:{}},t.verifyAddress=Object(x.debounce)(t.props.verifyAddress,150),t.updateFee=Object(x.debounce)(function(){var e=t.props.currentDeposit;if(!e)return t.setState({fee:0});var n=t.props.currentCoinInfo,r=t.state.address;n&&(r=n.raw.withdrawPrefix+":"+n.currency+":"+t.state.address),t.props.toolset.chainAssisant.getFakeTransferFee(e.asset,r).then(function(e){return S(t,void 0,void 0,function(){var t,n;return j(this,function(r){switch(r.label){case 0:return(t=this.props.currentDeposit)?[4,this.props.toolset.fetcher.fetchAsset(t.asset)]:[2,this.setState({fee:0})];case 1:return(n=r.sent())?(this.setState({fee:Object(g.b)(e.amount,n.precision),feeAsset:e}),[2]):[2]}})})})},150),t.setAddress=function(e){t.setState({address:e.target.value},function(){t.state.address&&t.props.currentDeposit&&t.verifyAddress(t.props.currentDeposit.type,t.state.address),t.updateFee()})},t}return A(t,e),t.prototype.componentDidMount=function(){this.props.currentDeposit||this.props.selectFirstAsset(),this.updateFee()},t.prototype.componentDidUpdate=function(e){this.props.state.gateway.withdrawSuccess&&this.props.state.gateway.withdrawSuccess!==e.state.gateway.withdrawSuccess&&this.setState({withValue:0,address:""}),this.props.currentDeposit!==e.currentDeposit&&this.updateFee()},t.prototype.render=function(){var e=this,t=this.props,n=t.coinList,r=t.gateway,i=(t.verifyAddress,t.selectAsset),l=t.currentDeposit,p=t.currentCoinInfo,d=t.pushNoti,h=t.modalState,w=t.doWithdraw,g=t.closeModal,v=t.balances,x=t.state,E=(t.toolset,t.t),A=this.props.classes||{},S=(n.find(function(e){return e.asset===r.currentAsset}),l&&v&&v[l.asset]||{value:0}),j=!!this.state.address&&!!l&&Object(s.b)(l.type,this.state.address)(x)===o.a.Invalid,C=!!this.state.address&&!!l&&Object(s.b)(l.type,this.state.address)(x)===o.a.Valid&&p&&this.state.withValue>=+p.raw.minWithdraw&&new O.a(S.value).minus(this.state.withValue).minus(this.state.fee).toNumber()>=0;return this.state.withValue<=S.value&&this.state.withValue,a.createElement(y.a,{open:h!==o.c.Closed,dialogProps:{disableBackdropClick:!0},onCloseClick:g,title:E(m.a.Funding)},a.createElement(c.K,{value:this.state.currentTab,onChange:function(t,n){return e.setState({currentTab:n})},indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},a.createElement(c.E,{label:E(m.a.Deposit)}),a.createElement(c.E,{label:E(m.a.Withdraw)})),0===this.state.currentTab&&a.createElement(c.A,{classes:{root:A.root},square:!0,elevation:0},a.createElement(c.q,{className:A.innerWrapper,container:!0,direction:"column",alignItems:"center"},a.createElement(c.n,{fullWidth:!0},a.createElement(c.v,{style:{fontSize:"17.5px"},shrink:!0,htmlFor:"currentAsset"},E(m.a.AssetType)),a.createElement(c.D,{fullWidth:!0,displayEmpty:!0,value:r.currentAsset,input:a.createElement(c.t,{name:"currentAsset",id:"currentAsset"}),onChange:function(e){return i(e.target.value)},style:{fontSize:"16px"},name:"currentAsset"},n.map(function(e){return a.createElement(c.z,{key:e.asset,value:e.asset},e.currency)}))),l&&a.createElement(c.q,{style:{marginTop:"2em",textAlign:"center"},container:!0,direction:"column",alignItems:"center"},a.createElement(f.a,{text:l.address.trim(),filename:(l&&[l.accountName,l.type,l.address].join("_"))+".png"})),a.createElement(c.c,{elevation:0,classes:{root:A.copyCard}},a.createElement(c.M,{style:{overflowWrap:"break-word",whiteSpace:"pre-wrap",textAlign:"center",fontSize:"14px",padding:"24px 0"},variant:"body1"},l&&l.address)),l&&a.createElement(u.a,{text:l.address,onCopy:function(){return d(""+(l&&l.type)+E(m.a.AddressCopied),{variant:"success"})}},a.createElement(b.a,{fullWidth:!0,style:{height:"48px",marginTop:"24px",fontSize:"16px"}},E(m.a.CopyAddress))))),1===this.state.currentTab&&a.createElement(c.A,{classes:{root:A.root},square:!0,elevation:0},a.createElement(c.q,{className:A.innerWrapper,container:!0,direction:"column",alignItems:"center"},a.createElement(c.n,{fullWidth:!0},a.createElement(c.v,{style:{fontSize:"17.5px"},shrink:!0,htmlFor:"currentAsset"},E(m.a.AssetType)),a.createElement(c.D,{fullWidth:!0,displayEmpty:!0,value:r.currentAsset,input:a.createElement(c.t,{name:"currentAsset",id:"currentAsset"}),onChange:function(e){return i(e.target.value)},style:{fontSize:"16px"},name:"currentAsset"},n.map(function(e){return a.createElement(c.z,{key:e.asset,value:e.asset},e.currency)}))),a.createElement(c.n,{fullWidth:!0},a.createElement(c.v,{style:{fontSize:"17.5px"},htmlFor:"withValue"},E(m.a.Amount)),a.createElement(c.t,{id:"withValue",placeholder:E(m.a.WithdrawMinimum),value:this.state.withValue,style:{fontSize:"16px"},type:"number",onChange:function(t){e.setState({withValue:t.target.value})},endAdornment:a.createElement(c.u,{position:"end",style:{width:"80px",textAlign:"right"}},E(m.a.Balance)+": "+S.value)})),a.createElement(c.n,{fullWidth:!0},a.createElement(c.L,{id:"address",label:E(m.a.WithdrawAddress),error:j,helperText:j&&E(m.a.AddressError)||" ",InputLabelProps:{style:{fontSize:"17.5px"}},inputProps:{style:{fontSize:"16px"}},value:this.state.address,onChange:this.setAddress})),a.createElement("div",{style:{marginTop:"12px"}}),a.createElement(c.q,{container:!0,wrap:"nowrap"},a.createElement(c.n,null,a.createElement(c.v,{style:{fontSize:"17.5px",lineHeight:"20px"},htmlFor:"minWithdraw"},E(m.a.WithdrawMinimum)),a.createElement(c.t,{disabled:!0,disableUnderline:!0,id:"minWithdraw",value:p&&p.raw.minWithdraw,style:{fontSize:"16px",marginTop:"30px"}})),a.createElement(c.n,null,a.createElement(c.v,{style:{fontSize:"17.5px",lineHeight:"20px"},htmlFor:"withdrawFee"},E(m.a.WithdrawalFee)),a.createElement(c.t,{disabled:!0,disableUnderline:!0,id:"withdrawFee",value:p&&p.raw.withdrawFee,style:{fontSize:"16px",marginTop:"30px"}})),a.createElement(c.n,null,a.createElement(c.v,{style:{fontSize:"17.5px",lineHeight:"20px"},htmlFor:"transferFee"},E(m.a.TransferFee)),a.createElement(c.t,{disabled:!0,disableUnderline:!0,id:"transferFee",value:this.state.fee,style:{fontSize:"16px",marginTop:"30px"}})),a.createElement(c.n,null,a.createElement(c.v,{style:{fontSize:"17.5px",lineHeight:"20px"},htmlFor:"withdrawFee"},E(m.a.YouWillGet)),a.createElement(c.t,{disabled:!0,disableUnderline:!0,id:"withdrawFee",value:Math.max(0,this.state.withValue-(p?+p.raw.withdrawFee:this.state.withValue)),style:{fontSize:"16px",marginTop:"30px"}}))),a.createElement("div",{style:{display:"flex",flexDirection:"column",fontSize:"14px",lineHeight:"22px"}},a.createElement("p",{style:{margin:0,color:"#000000"}},E(m.a.WithdrawImportant),"ï¼š"),a.createElement("p",{style:{margin:0,color:"#9b9b9b"}},E(m.a.WithdrawImportantAddress)),a.createElement("p",{style:{margin:0,color:"#9b9b9b"}},E(m.a.WithdrawImportantFee))),a.createElement(b.a,{fullWidth:!0,disabled:!C,style:{display:"flex",height:"48px",marginTop:"24px",fontSize:"16px"},onClick:function(){p&&w({to:p.raw.gatewayAccount,fee:e.state.feeAsset,asset:p.asset,coinType:p.currency,address:e.state.address,value:e.state.withValue,memoPrefix:p.raw.withdrawPrefix})}},E(m.a.Withdraw)))))},t}(a.Component)))))},5617:function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"a",function(){return f});var r,a=n(1),i=n(5600),o=n(115),s=n(5618),l=n(113),c=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),p=function(){return(p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&(n[r[a]]=e[r[a]])}return n},d=function(e){var t=e.label,n=e.input,r=e.meta,o=(r.asyncValidating,r.touched),s=r.invalid,c=r.error,d=e.helperText,f=u(e,["label","input","meta","helperText"]),h=Object(l.b)(),m=h.t;h.i18n;return a.createElement(i.L,p({label:t,InputProps:{style:{fontSize:"16px"}},InputLabelProps:{style:{fontSize:"16px"}},error:o&&s,helperText:o&&m(c)||d},n,f))},f=Object(o.withStyles)(function(e){return{root:{color:s.a.btnPrimary,background:s.a.btnBgPrimary,"&:disabled":{color:s.a.btnPrimary,background:s.a.btnBgDisabled}}}})(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){return a.createElement(i.b,p({classes:this.props.classes},this.props))},t}(a.Component))},5618:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={primary:"rgb(0,0,0)",secondary:"rgb(10, 56, 102)",btnBgPrimary:"rgb(10, 56, 102)",btnPrimary:"white",btnBgDisabled:"rgba(155, 155, 155, 0.48)",btnIcon:{purple:"#b692dd",blue:"#54b8e1",yellow:"#fac050"}}},5625:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(1),a=n(5660),i=n(5600),o=n(156),s=n(5622),l=n(113),c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},p=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&(n[r[a]]=e[r[a]])}return n},u=Object(a.a)(function(e){return{paper:{position:"relative",width:"90vw",maxWidth:"536px"},header:{position:"absolute",right:"36px",top:0,zIndex:100,"(max-width:599px)":{right:0},"(min-width:600px)":{right:"36px"}}}},{withTheme:!0}),d=function(e){var t=e.title,n=e.open,a=e.onCloseClick,d=e.children,f=e.hideHeader,h=e.dialogProps,m=e.titleProps,y=(p(e,["title","open","onCloseClick","children","hideHeader","dialogProps","titleProps"]),u()),b=Object(s.unstable_useMediaQuery)("(min-width:600px)"),w=Object(l.b)(),g=w.t;w.i18n;return r.createElement(i.h,c({open:n,classes:c({paper:y.paper},(h||{classes:{}}).classes),onClose:a},h),!f&&r.createElement("div",{style:{padding:b?"16px 48px 0 48px":0,boxShadow:b?"inset 0 -1px 0 0 #f8f9fb":"unset"}},b?r.createElement(i.q,{container:!0,style:{height:"64px"},justify:"space-between",alignItems:"center"},r.createElement(i.M,c({variant:"h4",style:{fontSize:"26px",fontWeight:600}},m),t?g(t):null),r.createElement(i.s,{style:{right:"-12px"},onClick:a},r.createElement(o.a,null))):r.createElement("div",{className:y.header,style:{right:b?"36px":0}},r.createElement(i.s,{onClick:a},r.createElement(o.a,null)))),r.createElement("div",{style:{padding:b?(f?32:0)+"px 48px 32px 48px":"16px"}},d))}},5664:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r,a=n(1),i=n(5711),o=n.n(i),s=n(5600),l=n(156),c=n(33),p=n(113),u=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),d=Object(p.c)()(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.download=function(e){if(void 0===e&&(e="deposit.jpg"),t.qrcode){var n=t.qrcode.getElementsByTagName("canvas")[0];n&&n.toBlob(function(t){if(t){var n=new File([t],e,{type:"image/png"}),r=URL.createObjectURL(n),a=document.createElement("a");a.download=e,a.href=r,a.target="_blank",a.dispatchEvent(new MouseEvent("click"))}})}},t.updateQRImg=function(){if(t.qrcode&&t.qrcodeImg){var e=t.qrcode.getElementsByTagName("canvas")[0];if(!e)return;e.toBlob(function(e){if(e&&t.qrcodeImg){var n=URL.createObjectURL(e);t.qrcodeImg.src=n;var r=function(){window.URL.revokeObjectURL(n),t.qrcodeImg&&t.qrcodeImg.removeEventListener("load",r)};t.qrcodeImg.addEventListener("load",r)}})}},t.isAppleDevice=function(){return/iphone|ipad|ipod/i.test(navigator.userAgent)},t}return u(t,e),t.prototype.componentDidMount=function(){this.updateQRImg()},t.prototype.componentDidUpdate=function(){this.updateQRImg()},t.prototype.render=function(){var e=this,t=this.props,n=t.text,r=t.filename,i=t.t;return a.createElement(s.q,{container:!0,direction:"column",alignContent:"center"},a.createElement("div",{ref:function(t){return e.qrcode=t}},a.createElement("div",{style:{display:"none"}},a.createElement(o.a,{value:n})),a.createElement("img",{style:{width:"12em",height:"12em"},ref:function(t){return e.qrcodeImg=t}})),this.isAppleDevice()?a.createElement(s.M,{align:"center",style:{margin:"0.5em"}},i(c.a.SaveQRCodeLongPress)):a.createElement(s.b,{color:"secondary",onClick:function(t){return e.download(r)}},i(c.a.SaveQRCode),a.createElement(l.b,{style:{marginLeft:"4px"},fontSize:"small"})))},t}(a.Component))}}]);